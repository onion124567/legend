{"version":3,"sources":["assets/scripts/Card.js"],"names":["CardStatus","NORMAL","CANUSE","CURRENT","TRY","cc","Class","Component","properties","cardBean","status","isCheck","sprite","type","SpriteFrame","arrow","Sprite","normalCard","Layout","costLabel","Label","titleLabel","descLabel","levelLable","start","bindCardFunction","fun","checkFunction","bindCardBean","string","title","cost","level","desc","onLoad","node","y","on","onMouseDown","event","console","log","stopPropagation","onCancel","onDestroy","off"],"mappings":"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","sourceRoot":"/","sourcesContent":["import CardBean from \"./beans/CardBean\";\n\nexport var CardStatus = {\n    NORMAL: 1,//不能用状态\n    CANUSE: 2,//能用高亮状态\n    CURRENT: 3,//拖动状态 拖动动效，cancel判定y轴超过一定范围即使用\n    TRY: 4,//指向性卡牌使用，在cancel时，判定落点是否有角色，是否为可用角色，再回调使用\n\n}\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        cardBean: null,\n        status: null,\n        isCheck: false,\n        sprite: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n        arrow: {\n            default: null,\n            type: cc.Sprite,\n        },\n        normalCard: {\n            default: null,\n            type: cc.Layout,\n        },\n        costLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        titleLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        descLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        levelLable: {\n            default: null,\n            type: cc.Label,\n        },\n\n\n    },\n    start: function () {\n\n        // var node = new cc.Node('Sprite');\n        // var sp = node.addComponent(cc.Sprite);\n\n        // sp.spriteFrame = cardPic;\n        // node.parent = this.node;\n\n\n    },\n\n    bindCardFunction(fun){\n        this.checkFunction=fun;\n    },\n    bindCardBean(cardBean) {\n        this.cardBean = cardBean;\n        this.titleLabel.string = this.cardBean.title;\n        this.costLabel.string = this.cardBean.cost;\n        this.levelLable.string = this.cardBean.level;\n        this.descLabel.string = this.cardBean.desc;\n        this.titleLabel.string = this.cardBean.title;\n    },\n\n    // update: function (dt) {\n    // },\n\n    onLoad: function () {\n        // this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\n        // this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onTouchStart,this);\n        //\n        // this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this);\n        // this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onTouchMove,this);\n        //\n        // this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this);\n        // this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchCancel,this);\n        // let self = this;\n        this.node.y = 0;\n        // this.location=[this.node.x,this.node.y];\n        // this.normalHeight=this.node.height;\n\n        this.node.on(\"click\", this.onMouseDown, this);\n\n        // cc.resources.load(\"pokers\", cc.SpriteAtlas, function (err, atlas) {\n        //\n        //     let frame = atlas.getSpriteFrame(\"181\");\n        //     console.log('onion==='+self.getComponent(cc.Sprite));\n        //     self.getComponent(cc.Sprite).spriteFrame =frame\n        //     this.spriteFrame= frame;\n        // });\n    },\n    onMouseDown: function (event) {\n        console.log('Press a key');\n        event.stopPropagation();\n        if (this.isCheck) {\n            this.isCheck = false;\n            this.node.y = this.node.y - 50;\n        } else {\n            this.isCheck = true;\n            this.node.y = this.node.y + 50;\n            this.checkFunction&&this.checkFunction(this);\n        }\n    },\n\n    onCancel:function () {\n        this.isCheck = false;\n        this.node.y = this.node.y - 50;\n    },\n    onDestroy() {\n        // cc.systemEvent.off(\"mousedown\", this.onMouseDown);\n        this.node.off(\"click\", this.onMouseDown, this);\n    },\n\n\n});\n"]}