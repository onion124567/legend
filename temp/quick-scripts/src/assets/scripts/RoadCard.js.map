{"version":3,"sources":["assets/scripts/RoadCard.js"],"names":["RoadType","ENEMY","RECOVER","SHOP","createRoadBean","roadtype","hpRecover","cardList","cc","Class","Component","properties","type","roadBean","sprite","SpriteFrame","costLabel","Label","titleLabel","selectBtn","Button","descLabel","levelLable","start","bindCardFunction","fun","checkFunction","getRoadBean","bindRoadBean","string","cardBean","title","level","desc","onLoad","node","on","onSelect","y","event","console","log","Director","hostHero","hp","currentEnemy","director","loadScene","onCancel","isCheck","onDestroy","sys","isMobile","off","onMouseDown","Node","EventType","MOUSE_DOWN"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\n * 道路卡片\n */\nimport Director from \"./Director\";\n\nexport var RoadType = {\n    ENEMY: 1,//野怪\n    RECOVER: 2,//恢复\n    SHOP:3,\n\n}\nexport function createRoadBean(roadtype,hpRecover,cardList) {\n    return {\n        roadtype:roadtype,\n        hpRecover:hpRecover,\n        cardList:cardList\n    }\n}\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        type: RoadType.ENEMY,\n        roadBean:null,\n        //图标\n        sprite: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n        costLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        titleLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        selectBtn: {\n            default: null,\n            type: cc.Button,\n        },\n        descLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        levelLable: {\n            default: null,\n            type: cc.Label,\n        },\n\n\n    },\n    start: function () {\n\n        // var node = new cc.Node('Sprite');\n        // var sp = node.addComponent(cc.Sprite);\n\n        // sp.spriteFrame = cardPic;\n        // node.parent = this.node;\n\n\n    },\n\n    bindCardFunction(fun) {\n        this.checkFunction = fun;\n    },\n\n    getRoadBean(){\n      return this.roadBean;\n    },\n\n    bindRoadBean(type,roadBean){\n        this.roadBean=roadBean;\n        this.type=type;\n\n        this.titleLabel.string = this.cardBean.title;\n        this.levelLable.string = this.cardBean.level;\n        this.descLabel.string = this.cardBean.desc;\n\n    },\n    // update: function (dt) {\n    // },\n\n    onLoad: function () {\n        // this.node.on(cc.Node.EventType.TOUCH_START, this.onMouseDown, this);\n        this.selectBtn.node.on(\"click\", this.onSelect, this);\n\n        // this.node.on(\"click\", this.onMouseDown, this);\n        //\n        // this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this);\n        // this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onTouchMove,this);\n        //\n        // this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this);\n        // this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchCancel,this);\n        // let self = this;\n        this.node.y = 0;\n        // this.location=[this.node.x,this.node.y];\n        // this.normalHeight=this.node.height;\n\n\n        // cc.resources.load(\"pokers\", cc.SpriteAtlas, function (err, atlas) {\n        //\n        //     let frame = atlas.getSpriteFrame(\"181\");\n        //     console.log('onion==='+self.getComponent(cc.Sprite));\n        //     self.getComponent(cc.Sprite).spriteFrame =frame\n        //     this.spriteFrame= frame;\n        // });\n    },\n    onSelect: function (event) {\n        console.log(\"onion\" + 'Press a key');\n       if(this.type==RoadType.RECOVER){\n           //发出增长hp的事件\n           Director.hostHero.hp+=10;\n       }else {\n           //从卡面取得敌人信息\n           Director.currentEnemy=this.roadBean;\n           cc.director.loadScene('game');\n       }\n    },\n\n    onCancel: function () {\n        if (this.isCheck) {\n            this.isCheck = false;\n            this.node.y = this.node.y - 50;\n        }\n\n    },\n    onDestroy() {\n        // cc.systemEvent.off(\"mousedown\", this.onMouseDown);\n        // this.node.off(\"click\", this.onMouseDown, this);\n        // this.node.off(cc.Node.EventType.TOUCH_START, this.onMouseDown, this);\n        if (cc.sys.isMobile) {\n            this.node.off(\"click\", this.onMouseDown, this);\n        } else {\n            this.node.off(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);\n        }\n\n    },\n\n\n});\n"]}