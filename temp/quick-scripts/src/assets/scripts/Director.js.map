{"version":3,"sources":["assets/scripts/Director.js"],"names":["Director","status","run","editMode","STATUS_NIGHT","operateCount","STATUS_READY","STATUS_BUSSINESS","STATUS_CLOSE","STATUS_OUTER","cc","director","loadScene","saveData","userData","day","coin","cookerList","popular","sceneData","floor","sceneList","name","pic","type","locationX","area","influence","sys","localStorage","setItem","JSON","stringify","loadData","getItem","GUIDE_MODE"],"mappings":";;;;;;;;;AACA;;;;;;;;IAQqBA;AACI;AACF;AACnB;AAEA;AAEA;AAGA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA,sBAAa;AACT,SAAKC,MAAL,GAAY,IAAZ;AACH;;;;SAEDC,MAAA,eAAK;AACD,QAAG,KAAKC,QAAR,EAAiB,CAEhB;;AACD,YAAQ,KAAKF,MAAb;AACI,WAAKD,QAAQ,CAACI,YAAd;AACIJ,QAAAA,QAAQ,CAACK,YAAT,GAAsB,CAAtB;AACA;;AACJ,WAAKL,QAAQ,CAACM,YAAd;AACI;;AACJ,WAAKN,QAAQ,CAACO,gBAAd;AACIP,QAAAA,QAAQ,CAACK,YAAT;;AACA,YAAGL,QAAQ,CAACK,YAAT,KAAwB,CAA3B,EAA6B;AACzB,eAAKJ,MAAL,GAAYD,QAAQ,CAACQ,YAArB;AACH;;AACD;;AACJ,WAAKR,QAAQ,CAACS,YAAd;AACIT,QAAAA,QAAQ,CAACK,YAAT;;AACA,YAAGL,QAAQ,CAACK,YAAT,KAAwB,CAA3B,EAA6B;AACzB,eAAKJ,MAAL,GAAYD,QAAQ,CAACQ,YAArB;AACAE,UAAAA,EAAE,CAACC,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACH;;AACL,WAAKZ,QAAQ,CAACQ,YAAd;AACI;AAnBR;AAqBH,IAED;;;SACAK,WAAA,oBAAU;AACN,QAAIC,QAAQ,GAAG;AACXT,MAAAA,YAAY,EAAEL,QAAQ,CAACK,YADZ;AAEXU,MAAAA,GAAG,EAAE,CAFM;AAGXC,MAAAA,IAAI,EAAE,GAHK;AAIXC,MAAAA,UAAU,EAAC,EAJA;AAKXC,MAAAA,OAAO,EAAC,GALG,CAKC;;AALD,KAAf;AAOA,QAAIC,SAAS,GAAC;AACVC,MAAAA,KAAK,EAAC,CADI;AAEVC,MAAAA,SAAS,EAAC,CACN;AACIC,QAAAA,IAAI,EAAC,KADT;AAEIC,QAAAA,GAAG,EAAC,SAFR;AAGIC,QAAAA,IAAI,EAAC,CAHT;AAIIC,QAAAA,SAAS,EAAC,CAJd;AAKIL,QAAAA,KAAK,EAAC,CALV;AAMIM,QAAAA,IAAI,EAAC,CANT;AAMW;AACPC,QAAAA,SAAS,EAAC,CAPd,CAOgB;;AAPhB,OADM;AAFA,KAAd;AAiBAjB,IAAAA,EAAE,CAACkB,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAwCC,IAAI,CAACC,SAAL,CAAelB,QAAf,CAAxC;AACH,IACD;;;SACAmB,WAAA,oBAAU;AACP,QAAInB,QAAQ,GAAEJ,EAAE,CAACkB,GAAH,CAAOC,YAAP,CAAoBK,OAApB,CAA4B,UAA5B,CAAd;AACF;;;;;;AAnFgBlC,SACTmC,aAAW;AADFnC,SAETG,WAAS;AAFAH,SAIVe,MAAI;AAJMf,SAMVK,eAAa;AANHL,SAQVgB,OAAK;AARKhB,SAYVI,eAAa;AAZHJ,SAcVM,eAAa;AAdHN,SAgBVO,mBAAiB;AAhBPP,SAkBVS,eAAa;AAlBHT,SAoBVQ,eAAa","sourceRoot":"/","sourcesContent":["\n/**\n * 导演类 控制整体流程\n * 游戏资源\n * 人气  与食物味道线性相关 与舒适度及服务水平乘系数关系\n * 客流量 实际来店人数，和人气成正比 受餐桌数量限制\n * 金币   雇佣厨师，购买食材等\n * 行动值 每天自动补全6次，随机事件选择，产生其他资源\n */\nexport default class Director{\n    static  GUIDE_MODE=1;//引导模式 考虑是否加提示标\n    static  editMode=0;//编辑模式，家具带碰撞体积，可删除摆放\n    //游戏所进行的时间\n    static day=0;\n    //本天剩余操作数\n    static operateCount=6;\n    //剩余金币\n    static coin=0;\n\n    //夜晚 试做新菜或 重新钻研旧菜，每个厨师每夜可执行一个，可有另一厨师协助.\n    // 菜做好后会放到厨师的装备栏里，每个厨师可装备3个菜\n    static STATUS_NIGHT=1;\n    //准备阶段,调整厨师，经营计划，服务员数量，培训等\n    static STATUS_READY=2;\n    //经营阶段店内,每天有6个抉择，可在店内帮工/监工\n    static STATUS_BUSSINESS=3;\n    //可采购、试吃、挖掘食材、闲逛、海边等等 也能碰到广告、厨师争霸及卫生检查等消息\n    static STATUS_OUTER=4;\n    //关店阶段，经营结束后，出若干随机事件，跳槽，卫生检查，客人找茬等信息，多为告知类\n    static STATUS_CLOSE=5;\n    constructor(){\n        this.status=null;\n    }\n\n    run(){\n        if(this.editMode){\n\n        }\n        switch (this.status){\n            case Director.STATUS_NIGHT:\n                Director.operateCount=6;\n                break;\n            case Director.STATUS_READY:\n                break;\n            case Director.STATUS_BUSSINESS:\n                Director.operateCount--;\n                if(Director.operateCount===0){\n                    this.status=Director.STATUS_CLOSE;\n                }\n                break;\n            case Director.STATUS_OUTER:\n                Director.operateCount--;\n                if(Director.operateCount===0){\n                    this.status=Director.STATUS_CLOSE;\n                    cc.director.loadScene('game');\n                }\n            case Director.STATUS_CLOSE:\n                break\n        }\n    }\n\n    //每个关键节点调用\n    saveData(){\n        let userData = {\n            operateCount: Director.operateCount,\n            day: 1,\n            coin: 100,\n            cookerList:[],\n            popular:100,//人气值\n        };\n        let sceneData={\n            floor:1,\n            sceneList:[\n                {\n                    name:\"大吊灯\",\n                    pic:\"xxx.png\",\n                    type:1,\n                    locationX:2,\n                    floor:1,\n                    area:1,//占地面积 同type互斥\n                    influence:4,//影响范围\n                }\n            ]\n\n        };\n\n\n        cc.sys.localStorage.setItem('userData', JSON.stringify(userData));\n    }\n    //游戏启动调用\n    loadData(){\n       let userData= cc.sys.localStorage.getItem('userData');\n    }\n\n}"]}