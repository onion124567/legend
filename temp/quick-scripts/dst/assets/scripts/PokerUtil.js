
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/PokerUtil.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '637dcF7OOBKJbr2bHFrfFoQ', 'PokerUtil');
// scripts/PokerUtil.js

"use strict";

exports.__esModule = true;
exports["default"] = void 0;
var pokerWeight = [4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 3, 5, 16, 17, 18]; //主5为18

var LEFT_WIN = -1;
var RIGHT_WIN = 1;

var PokerUtil = /*#__PURE__*/function () {
  function PokerUtil() {}

  /**
   * 比较牌的大小
   * 最后一位是花色，前面直接比大小
   * 规则 1游戏主>轮次主>副
   *      2 5>王>3>2
   *      3 同为副牌，花色比大小
   *      4
   * @param {*} valueLeft  先牌
   * @param {*} valueRight 后牌
   */

  /**
   * 不判断花色，直接比大小 只接受两位
   * 允许返回0
   *
   */

  /**
   * 判断牌的大小
   * @param {*} poker
   */
  PokerUtil.quaryPokerWeight = function quaryPokerWeight(poker) {
    return pokerWeight.indexOf(poker);
  }
  /**
   * 判断牌是不是活动主 15 3 5对应 2 3 5
   */
  ;

  PokerUtil.quaryIsHost = function quaryIsHost(poker) {
    var value = parseInt(poker);
    return value == 15 || value == 3 || value == 5 || value == 16 || value == 17 || value == 18; //2 3 5 小王 大王 主5
  }
  /**
   * 返回分数值
   * @param poker
   * @returns {*}
   */
  ;

  PokerUtil.quaryIsSocer = function quaryIsSocer(poker) {
    if (poker == 5 || poker == 10) {
      return poker;
    } else if (poker == 13) {
      return 10;
    } else {
      return 0;
    }
  }
  /**
   * 判断副牌谁大
   * @param {*} roundhost
   * @param {*} valueLeft
   * @param {*} valueRight
   */
  ;

  PokerUtil.compareVice = function compareVice(roundhost, typeLeft, typeRight, contentLeft, contentRight) {
    if (typeRight == typeLeft == roundhost) {
      return PokerUtil.compareSinglePokerBigger(contentLeft, contentRight);
    } else if (typeLeft == roundhost) {
      return LEFT_WIN;
    } else if (typeRight == roundhost) {
      return RIGHT_WIN;
    } else {
      //都是副牌 不是本轮主，多半是跟牌，意义不大
      return LEFT_WIN;
    }
  };

  return PokerUtil;
}();

exports["default"] = PokerUtil;

PokerUtil.testLogic = function (testArray) {
  var gamehost = Math.random() * 4;
  var roundhost = Math.random() * 4;
  gamehost = parseInt(gamehost) + 1;
  roundhost = parseInt(roundhost) + 1;
  console.log("onion", "当前游戏主" + gamehost + "本轮主" + roundhost);

  if (testArray.length == 1) {
    var testValue = testArray[0] + "";
    console.log("onion", PokerUtil.quaryPokerWeight(parseInt(testValue.substring(0, 2))));
  } else if (testArray.length >= 2) {
    console.log("onion", PokerUtil.comparePoker(gamehost, roundhost, testArray[0], testArray[1]));
  }
};

PokerUtil.testArrayLogic = function (testArray1, testArray2) {
  var gamehost = Math.random() * 4;
  var roundhost = Math.random() * 4;
  gamehost = parseInt(gamehost) + 1;
  roundhost = parseInt(roundhost) + 1;
};

PokerUtil.comparePoker = function (gamehost, roundhost, valueLeft, valueRight) {
  console.log("onion", "comparePoker++" + PokerUtil.quaryPokerValue(valueLeft) + "/" + PokerUtil.quaryPokerValue(valueRight));

  if (Array.isArray(valueLeft) || Array.isArray(valueRight)) {
    if (valueLeft.length == 1) {
      valueLeft = valueLeft[0];
    }

    if (valueRight.length == 1) {
      valueRight = valueRight[0];
    }
  }

  if (Array.isArray(valueLeft) || Array.isArray(valueRight)) {
    console.error("onion", "暂不支持数组");
    PokerUtil.compareArray(gamehost, roundhost, valueLeft, valueRight);
    return LEFT_WIN;
  }

  if (valueRight == valueLeft) {
    //完全相同，先牌大
    return LEFT_WIN;
  }

  valueRight = valueRight + "";
  valueLeft = valueLeft + ""; //1 判断先牌后牌的花色

  var typeLeft = valueLeft.substring(2);
  var typeRight = valueRight.substring(2); //2判断先牌后牌值

  var contentLeft = valueLeft.substring(0, 2);
  var contentRight = valueRight.substring(0, 2); //3判断牌是否为主 活动主

  var leftIsHost = typeLeft == gamehost || PokerUtil.quaryIsHost(contentLeft);
  var rightIsHost = typeLeft == gamehost || PokerUtil.quaryIsHost(contentRight); //4比较

  if (leftIsHost && rightIsHost) {
    //同为主，主5最大
    if (parseInt(contentLeft) == 5) {
      return LEFT_WIN;
    } else if (parseInt(contentRight) == 5) {
      return RIGHT_WIN;
    } else {
      //直接比大小
      var result = PokerUtil.compareSinglePokerBigger(contentLeft, contentRight);

      if (result != 0) {
        return result;
      } else {
        //大小相同，存在活动主和花色主牌值相同情况
        if (typeLeft == gamehost) {
          return LEFT_WIN;
        } else if (typeRight == gamehost) {
          return RIGHT_WIN;
        } else {
          //同为活动主
          return LEFT_WIN;
        }
      }
    }
  } else if (leftIsHost) {
    //先牌是主，先牌大
    return LEFT_WIN;
  } else if (rightIsHost) {
    //后牌是主，后牌大
    return RIGHT_WIN;
  } else {
    return PokerUtil.compareVice(roundhost, typeLeft, typeRight, contentLeft, contentRight);
  }
};

PokerUtil.compareSinglePokerBigger = function (valueLeft, valueRight) {
  if (valueLeft.length > 2 || valueRight.length > 2) {
    console.error("只接受两位的" + valueLeft + "/" + valueRight);
    return 1;
  }

  var leftNum = parseInt(valueLeft);
  var rightNum = parseInt(valueRight);
  var result = PokerUtil.quaryPokerWeight(rightNum) - PokerUtil.quaryPokerWeight(leftNum);

  if (result > 0) {
    result = RIGHT_WIN;
  } else if (result < 0) {
    result = LEFT_WIN;
  }

  return result;
};

PokerUtil.compareArray = function (gamehost, roundhost, valueLeft, valueRight) {
  //偶数张，排数不一致
  if (valueLeft.length != valueRight.length || valueLeft.length % 2 != 0) {
    console.error("onion", "数组长度不一致");
    return LEFT_WIN;
  } //1 排序


  var arrayLeft = valueLeft.sort();
  var arrayRight = valueRight.sort(); //2 奇数和偶数一样，判断对子合法性

  var resultLeft = PokerUtil.checkArrayValue(arrayLeft);
  var resultRight = PokerUtil.checkArrayValue(arrayRight);

  if (resultLeft[0] == "-1") {
    return RIGHT_WIN;
  }

  if (resultRight[0] == "-1") {
    return LEFT_WIN;
  }

  if (gamehost == resultLeft[0] == resultRight[0]) {
    //都是主对
    if (resultLeft[1] > resultRight[1]) {
      return LEFT_WIN;
    } else {
      return RIGHT_WIN;
    }
  } else if (gamehost == resultLeft[0]) {
    return LEFT_WIN;
  } else if (gamehost == resultRight[0]) {
    return RIGHT_WIN;
  } else if (roundhost == resultLeft[0] == resultRight[0]) {
    //都是副对
    if (resultLeft[1] > resultRight[1]) {
      return LEFT_WIN;
    } else {
      return RIGHT_WIN;
    }
  } else if (roundhost == resultLeft[0]) {
    return LEFT_WIN;
  } else if (gamehost == resultRight[0]) {
    return RIGHT_WIN;
  } else {
    //都不是主 跟牌大小无意义
    return LEFT_WIN;
  } //一对直接比
  //多对先校验合法性，1是否多对 2是否连对 3花色一致 4

};

PokerUtil.checkArrayValue = function (array) {
  var odd = "-1";
  var even = "-1";
  var lastType = "-1";
  var result = 0;

  for (var index = 0; index < array.length; index++) {
    if (index % 2 == 0) {
      even = array[index];
    } else {
      odd = array[index];

      if (even != odd) {
        return ["-1", -1];
      }

      var cardNum = odd;
      var type = "0";

      if (cardNum == "171" || cardNum == "161") {
        //大小王
        type = "5";
      } else {
        var str = cardNum.substring(2);
        type = PokerUtil.quaryType(str);
      }

      if (lastType != type && lastType != "-1") {
        //不是首次且与之前花色不同，不能算对子
        return ["-1", -1];
      }

      lastType = type;
      var compare = cardNum.substring(0, 2);
      result = result + PokerUtil.quaryPokerWeight(parseInt(compare));
    }
  }

  return [lastType, result];
};

PokerUtil.compareRound = function (playPokers) {};

PokerUtil.destoryArray = function (destoryNode) {
  if (destoryNode != null) {
    for (var i = 0; i < destoryNode.length; i++) {
      destoryNode[i].destroy();
    }
  }
};

PokerUtil.sort = function (a, b) {
  a = Math.floor(a / 10);
  b = Math.floor(b / 10);
  var left = PokerUtil.quaryPokerWeight(a);
  var right = PokerUtil.quaryPokerWeight(b);
  return left - right;
};

PokerUtil.sortInsert = function (array, item) {
  if (array.length === 0) {
    array.push(item);
    return array;
  } // let value=item.substring(0,2);


  var value = item / 10;
  var weight = PokerUtil.quaryPokerWeight(value);
  var firstWeight = PokerUtil.quaryPokerWeight(array[0] / 10);
  var lastWeight = PokerUtil.quaryPokerWeight(array[array.length - 1] / 10);

  if (weight <= firstWeight) {
    array = [item].concat(array); // array.unshift(item);
  } else if (weight >= lastWeight) {
    array.push(item);
  }

  return array;
};

PokerUtil.quaryType = function (type) {
  switch (type) {
    case "1":
      return "方块";

    case "2":
      return "梅花";

    case "3":
      return "红桃";

    case "4":
      return "黑桃";
  }
};

PokerUtil.quaryPokerTypeValue = function (pokerValue) {
  pokerValue = pokerValue + "";

  if (pokerValue == "171") {
    return "3";
  }

  if (pokerValue == "161") {
    return "4";
  } // console.log("onion","pokerValue"+pokerValue);


  return pokerValue.substring(2);
};

PokerUtil.quaryPokerValue = function (value) {
  var cardNum = value + "";

  if (cardNum == "171") {
    return "大王";
  } else if (cardNum == "161") {
    return "小王";
  } else if (cardNum == "181") {
    return "卡背";
  } else {
    var compare = cardNum.substring(0, 2);
    var type = cardNum.substring(2);
    var result = PokerUtil.quaryType(type);

    switch (compare) {
      case "03":
        result = result + "3";
        break;

      case "04":
        result = result + "4";
        break;

      case "05":
        result = result + "5";
        break;

      case "06":
        result = result + "6";
        break;

      case "07":
        result = result + "7";
        break;

      case "08":
        result = result + "8";
        break;

      case "09":
        result = result + "9";
        break;

      case "10":
        result = result + "10";
        break;

      case "11":
        result = result + "J";
        break;

      case "12":
        result = result + "Q";
        break;

      case "13":
        result = result + "K";
        break;

      case "14":
        result = result + "A";
        break;

      case "15":
        result = result + "2";
        break;
    }

    return result;
  }
};

PokerUtil.sortPokers = function (gameHost, cardArray) {
  var type1Array = [];
  var type2Array = [];
  var type3Array = [];
  var type4Array = [];
  var hostArray = []; //活动主

  for (var i = 0; i < cardArray.length; i++) {
    var item = cardArray[i];

    if (item == 171 || item == 161) {
      hostArray.push(item);
      continue;
    } // let type=parseInt(item.substring(2));


    var value = Math.floor(item / 10);

    if (PokerUtil.quaryIsHost(value)) {
      hostArray.push(item);
      continue;
    }

    var type = item % 10;

    switch (type) {
      case 1:
        type1Array.push(item);
        break;

      case 2:
        type2Array.push(item);
        break;

      case 3:
        type3Array.push(item);
        break;

      case 4:
        type4Array.push(item);
        break;
    }
  }

  hostArray.sort(PokerUtil.sort);
  type1Array.sort(PokerUtil.sort);
  type2Array.sort(PokerUtil.sort);
  type3Array.sort(PokerUtil.sort);
  type3Array.sort(PokerUtil.sort);

  switch (parseInt(gameHost)) {
    case 1:
      return PokerUtil.createStatic(type1Array, type2Array, type3Array, type4Array, hostArray, type2Array.concat(type3Array).concat(type4Array).concat(type1Array).concat(hostArray));

    case 2:
      return PokerUtil.createStatic(type1Array, type2Array, type3Array, type4Array, hostArray, type3Array.concat(type4Array).concat(type1Array).concat(type2Array).concat(hostArray));

    case 3:
      return PokerUtil.createStatic(type1Array, type2Array, type3Array, type4Array, hostArray, type4Array.concat(type1Array).concat(type2Array).concat(type3Array).concat(hostArray));

    case 4:
      return PokerUtil.createStatic(type1Array, type2Array, type3Array, type4Array, hostArray, type1Array.concat(type2Array).concat(type3Array).concat(type4Array).concat(hostArray));
  }
};

PokerUtil.createStatic = function (type1Array, type2Array, type3Array, type4Array, hostArray, total) {
  return {
    type1Array: type1Array,
    type2Array: type2Array,
    type3Array: type3Array,
    type4Array: type4Array,
    hostArray: hostArray,
    total: total
  };
};

PokerUtil.saveRecoder = function () {
  var userData = {
    name: 'Tracer',
    level: 1,
    gold: 100
  };
  cc.sys.localStorage.setItem('userData', JSON.stringify(userData));
};

PokerUtil.quaryReocder = function () {
  var userData = JSON.parse(cc.sys.localStorage.getItem('userData'));
};

module.exports = exports["default"];

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL1Bva2VyVXRpbC5qcyJdLCJuYW1lcyI6WyJwb2tlcldlaWdodCIsIkxFRlRfV0lOIiwiUklHSFRfV0lOIiwiUG9rZXJVdGlsIiwicXVhcnlQb2tlcldlaWdodCIsInBva2VyIiwiaW5kZXhPZiIsInF1YXJ5SXNIb3N0IiwidmFsdWUiLCJwYXJzZUludCIsInF1YXJ5SXNTb2NlciIsImNvbXBhcmVWaWNlIiwicm91bmRob3N0IiwidHlwZUxlZnQiLCJ0eXBlUmlnaHQiLCJjb250ZW50TGVmdCIsImNvbnRlbnRSaWdodCIsImNvbXBhcmVTaW5nbGVQb2tlckJpZ2dlciIsInRlc3RMb2dpYyIsInRlc3RBcnJheSIsImdhbWVob3N0IiwiTWF0aCIsInJhbmRvbSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJ0ZXN0VmFsdWUiLCJzdWJzdHJpbmciLCJjb21wYXJlUG9rZXIiLCJ0ZXN0QXJyYXlMb2dpYyIsInRlc3RBcnJheTEiLCJ0ZXN0QXJyYXkyIiwidmFsdWVMZWZ0IiwidmFsdWVSaWdodCIsInF1YXJ5UG9rZXJWYWx1ZSIsIkFycmF5IiwiaXNBcnJheSIsImVycm9yIiwiY29tcGFyZUFycmF5IiwibGVmdElzSG9zdCIsInJpZ2h0SXNIb3N0IiwicmVzdWx0IiwibGVmdE51bSIsInJpZ2h0TnVtIiwiYXJyYXlMZWZ0Iiwic29ydCIsImFycmF5UmlnaHQiLCJyZXN1bHRMZWZ0IiwiY2hlY2tBcnJheVZhbHVlIiwicmVzdWx0UmlnaHQiLCJhcnJheSIsIm9kZCIsImV2ZW4iLCJsYXN0VHlwZSIsImluZGV4IiwiY2FyZE51bSIsInR5cGUiLCJzdHIiLCJxdWFyeVR5cGUiLCJjb21wYXJlIiwiY29tcGFyZVJvdW5kIiwicGxheVBva2VycyIsImRlc3RvcnlBcnJheSIsImRlc3RvcnlOb2RlIiwiaSIsImRlc3Ryb3kiLCJhIiwiYiIsImZsb29yIiwibGVmdCIsInJpZ2h0Iiwic29ydEluc2VydCIsIml0ZW0iLCJwdXNoIiwid2VpZ2h0IiwiZmlyc3RXZWlnaHQiLCJsYXN0V2VpZ2h0IiwicXVhcnlQb2tlclR5cGVWYWx1ZSIsInBva2VyVmFsdWUiLCJzb3J0UG9rZXJzIiwiZ2FtZUhvc3QiLCJjYXJkQXJyYXkiLCJ0eXBlMUFycmF5IiwidHlwZTJBcnJheSIsInR5cGUzQXJyYXkiLCJ0eXBlNEFycmF5IiwiaG9zdEFycmF5IiwiY3JlYXRlU3RhdGljIiwiY29uY2F0IiwidG90YWwiLCJzYXZlUmVjb2RlciIsInVzZXJEYXRhIiwibmFtZSIsImxldmVsIiwiZ29sZCIsImNjIiwic3lzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJxdWFyeVJlb2NkZXIiLCJwYXJzZSIsImdldEl0ZW0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxXQUFXLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixFQUFoQixFQUFvQixFQUFwQixFQUF3QixFQUF4QixFQUE0QixFQUE1QixFQUFnQyxFQUFoQyxFQUFvQyxFQUFwQyxFQUF3QyxDQUF4QyxFQUEyQyxDQUEzQyxFQUE4QyxFQUE5QyxFQUFrRCxFQUFsRCxFQUFzRCxFQUF0RCxDQUFsQixFQUE0RTs7QUFDNUUsSUFBSUMsUUFBUSxHQUFHLENBQUMsQ0FBaEI7QUFDQSxJQUFJQyxTQUFTLEdBQUcsQ0FBaEI7O0lBQ3FCQzs7O0FBd0JqQjs7Ozs7Ozs7Ozs7QUE0RUE7Ozs7OztBQXNCQTs7OztZQUlPQyxtQkFBUCwwQkFBd0JDLEtBQXhCLEVBQStCO0FBQzNCLFdBQU9MLFdBQVcsQ0FBQ00sT0FBWixDQUFvQkQsS0FBcEIsQ0FBUDtBQUNIO0FBRUQ7Ozs7O1lBR09FLGNBQVAscUJBQW1CRixLQUFuQixFQUEwQjtBQUN0QixRQUFJRyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ0osS0FBRCxDQUFwQjtBQUNBLFdBQU9HLEtBQUssSUFBSSxFQUFULElBQWVBLEtBQUssSUFBSSxDQUF4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QUFPLENBQUM1QixTQUFSLENBQWtCLENBQWxCLEVBQXFCLENBQXJCLENBQWQ7QUFDQSxRQUFJNkIsSUFBSSxHQUFHRCxPQUFPLENBQUM1QixTQUFSLENBQWtCLENBQWxCLENBQVg7QUFDQSxRQUFJYyxNQUFNLEdBQUd0QyxTQUFTLENBQUN1RCxTQUFWLENBQW9CRixJQUFwQixDQUFiOztBQUNBLFlBQVFHLE9BQVI7QUFDSSxXQUFLLElBQUw7QUFDSWxCLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLElBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FBQ0osV0FBSyxJQUFMO0FBQ0lBLFFBQUFBLE1BQU0sR0FBR0EsTUFBTSxHQUFHLEdBQWxCO0FBQ0E7O0FB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LEVBQUU7QUFISyxHQUFmO0FBTUFDLEVBQUFBLEVBQUUsQ0FBQ0MsR0FBSCxDQUFPQyxZQUFQLENBQW9CQyxPQUFwQixDQUE0QixVQUE1QixFQUF3Q0MsSUFBSSxDQUFDQyxTQUFMLENBQWVULFFBQWYsQ0FBeEM7QUFDSDs7QUEzZGlCeEYsVUE0ZFhrRyxlQUFhLFlBQUk7QUFDcEIsTUFBSVYsUUFBUSxHQUFHUSxJQUFJLENBQUNHLEtBQUwsQ0FBV1AsRUFBRSxDQUFDQyxHQUFILENBQU9DLFlBQVAsQ0FBb0JNLE9BQXBCLENBQTRCLFVBQTVCLENBQVgsQ0FBZjtBQUNIIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgcG9rZXJXZWlnaHQgPSBbNCwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMywgNSwgMTYsIDE3LCAxOF07Ly/kuLs15Li6MThcbmxldCBMRUZUX1dJTiA9IC0xO1xubGV0IFJJR0hUX1dJTiA9IDE7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2tlclV0aWwge1xuXG4gICAgc3RhdGljIHRlc3RMb2dpYyA9ICh0ZXN0QXJyYXkpID0+IHtcbiAgICAgICAgbGV0IGdhbWVob3N0ID0gTWF0aC5yYW5kb20oKSAqIDQ7XG4gICAgICAgIGxldCByb3VuZGhvc3QgPSBNYXRoLnJhbmRvbSgpICogNDtcbiAgICAgICAgZ2FtZWhvc3QgPSBwYXJzZUludChnYW1laG9zdCkgKyAxO1xuICAgICAgICByb3VuZGhvc3QgPSBwYXJzZUludChyb3VuZGhvc3QpICsgMTtcbiAgICAgICAgY29uc29sZS5sb2coXCJvbmlvblwiLCBcIuW9k+WJjea4uOaIj+S4u1wiICsgZ2FtZWhvc3QgKyBcIuacrOi9ruS4u1wiICsgcm91bmRob3N0KTtcbiAgICAgICAgaWYgKHRlc3RBcnJheS5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgbGV0IHRlc3RWYWx1ZSA9IHRlc3RBcnJheVswXSArIFwiXCI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9uaW9uXCIsIFBva2VyVXRpbC5xdWFyeVBva2VyV2VpZ2h0KHBhcnNlSW50KHRlc3RWYWx1ZS5zdWJzdHJpbmcoMCwgMikpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVzdEFycmF5Lmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9uaW9uXCIsIFBva2VyVXRpbC5jb21wYXJlUG9rZXIoZ2FtZWhvc3QsIHJvdW5kaG9zdCwgdGVzdEFycmF5WzBdLCB0ZXN0QXJyYXlbMV0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgdGVzdEFycmF5TG9naWMgPSAodGVzdEFycmF5MSwgdGVzdEFycmF5MikgPT4ge1xuICAgICAgICBsZXQgZ2FtZWhvc3QgPSBNYXRoLnJhbmRvbSgpICogNDtcbiAgICAgICAgbGV0IHJvdW5kaG9zdCA9IE1hdGgucmFuZG9tKCkgKiA0O1xuICAgICAgICBnYW1laG9zdCA9IHBhcnNlSW50KGdhbWVob3N0KSArIDE7XG4gICAgICAgIHJvdW5kaG9zdCA9IHBhcnNlSW50KHJvdW5kaG9zdCkgKyAxO1xuICAgICAgXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmr5TovoPniYznmoTlpKflsI9cbiAgICAgKiDmnIDlkI7kuIDkvY3mmK/oirHoibLvvIzliY3pnaLnm7TmjqXmr5TlpKflsI9cbiAgICAgKiDop4TliJkgMea4uOaIj+S4uz7ova7mrKHkuLs+5YmvXG4gICAgICogICAgICAyIDU+546LPjM+MlxuICAgICAqICAgICAgMyDlkIzkuLrlia/niYzvvIzoirHoibLmr5TlpKflsI9cbiAgICAgKiAgICAgIDRcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlTGVmdCAg5YWI54mMXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVJpZ2h0IOWQjueJjFxuICAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlUG9rZXIgPSAoZ2FtZWhvc3QsIHJvdW5kaG9zdCwgdmFsdWVMZWZ0LCB2YWx1ZVJpZ2h0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwib25pb25cIiwgXCJjb21wYXJlUG9rZXIrK1wiICsgUG9rZXJVdGlsLnF1YXJ5UG9rZXJWYWx1ZSh2YWx1ZUxlZnQpICsgXCIvXCIgKyBQb2tlclV0aWwucXVhcnlQb2tlclZhbHVlKHZhbHVlUmlnaHQpKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVMZWZ0KSB8fCBBcnJheS5pc0FycmF5KHZhbHVlUmlnaHQpKSB7XG4gICAgICAgICAgICBpZih2YWx1ZUxlZnQubGVuZ3RoPT0xKXtcbiAgICAgICAgICAgICAgICB2YWx1ZUxlZnQ9dmFsdWVMZWZ0WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsdWVSaWdodC5sZW5ndGg9PTEpe1xuICAgICAgICAgICAgICAgIHZhbHVlUmlnaHQ9dmFsdWVSaWdodFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlTGVmdCkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZVJpZ2h0KSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIm9uaW9uXCIsIFwi5pqC5LiN5pSv5oyB5pWw57uEXCIpO1xuICAgICAgICAgICAgUG9rZXJVdGlsLmNvbXBhcmVBcnJheShnYW1laG9zdCwgcm91bmRob3N0LCB2YWx1ZUxlZnQsIHZhbHVlUmlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIExFRlRfV0lOO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZVJpZ2h0ID09IHZhbHVlTGVmdCkge1xuICAgICAgICAgICAgLy/lrozlhajnm7jlkIzvvIzlhYjniYzlpKdcbiAgICAgICAgICAgIHJldHVybiBMRUZUX1dJTjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZVJpZ2h0ID0gdmFsdWVSaWdodCArIFwiXCI7XG4gICAgICAgIHZhbHVlTGVmdCA9IHZhbHVlTGVmdCArIFwiXCI7XG4gICAgICAgIC8vMSDliKTmlq3lhYjniYzlkI7niYznmoToirHoibJcbiAgICAgICAgbGV0IHR5cGVMZWZ0ID0gdmFsdWVMZWZ0LnN1YnN0cmluZygyKTtcbiAgICAgICAgbGV0IHR5cGVSaWdodCA9IHZhbHVlUmlnaHQuc3Vic3RyaW5nKDIpO1xuICAgICAgICAvLzLliKTmlq3lhYjniYzlkI7niYzlgLxcbiAgICAgICAgbGV0IGNvbnRlbnRMZWZ0ID0gdmFsdWVMZWZ0LnN1YnN0cmluZygwLCAyKTtcbiAgICAgICAgbGV0IGNvbnRlbnRSaWdodCA9IHZhbHVlUmlnaHQuc3Vic3RyaW5nKDAsIDIpO1xuICAgICAgICAvLzPliKTmlq3niYzmmK/lkKbkuLrkuLsg5rS75Yqo5Li7XG4gICAgICAgIGxldCBsZWZ0SXNIb3N0ID0gdHlwZUxlZnQgPT0gZ2FtZWhvc3QgfHwgUG9rZXJVdGlsLnF1YXJ5SXNIb3N0KGNvbnRlbnRMZWZ0KTtcbiAgICAgICAgbGV0IHJpZ2h0SXNIb3N0ID0gdHlwZUxlZnQgPT0gZ2FtZWhvc3QgfHwgUG9rZXJVdGlsLnF1YXJ5SXNIb3N0KGNvbnRlbnRSaWdodCk7XG4gICAgICAgIC8vNOavlOi+g1xuICAgICAgICBpZiAobGVmdElzSG9zdCAmJiByaWdodElzSG9zdCkge1xuICAgICAgICAgICAgLy/lkIzkuLrkuLvvvIzkuLs15pyA5aSnXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoY29udGVudExlZnQpID09IDUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KGNvbnRlbnRSaWdodCkgPT0gNSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9XSU47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8v55u05o6l5q+U5aSn5bCPXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IFBva2VyVXRpbC5jb21wYXJlU2luZ2xlUG9rZXJCaWdnZXIoY29udGVudExlZnQsIGNvbnRlbnRSaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/lpKflsI/nm7jlkIzvvIzlrZjlnKjmtLvliqjkuLvlkozoirHoibLkuLvniYzlgLznm7jlkIzmg4XlhrVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVMZWZ0ID09IGdhbWVob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZVJpZ2h0ID09IGdhbWVob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfV0lOO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugey8v5ZCM5Li65rS75Yqo5Li7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsZWZ0SXNIb3N0KSB7XG4gICAgICAgICAgICAvL+WFiOeJjOaYr+S4u++8jOWFiOeJjOWkp1xuICAgICAgICAgICAgcmV0dXJuIExFRlRfV0lOO1xuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0SXNIb3N0KSB7XG4gICAgICAgICAgICAvL+WQjueJjOaYr+S4u++8jOWQjueJjOWkp1xuICAgICAgICAgICAgcmV0dXJuIFJJR0hUX1dJTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQb2tlclV0aWwuY29tcGFyZVZpY2Uocm91bmRob3N0LCB0eXBlTGVmdCwgdHlwZVJpZ2h0LCBjb250ZW50TGVmdCwgY29udGVudFJpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS4jeWIpOaWreiKseiJsu+8jOebtOaOpeavlOWkp+WwjyDlj6rmjqXlj5fkuKTkvY1cbiAgICAgKiDlhYHorrjov5Tlm54wXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgY29tcGFyZVNpbmdsZVBva2VyQmlnZ2VyID0gKHZhbHVlTGVmdCwgdmFsdWVSaWdodCkgPT4ge1xuICAgICAgICBpZiAodmFsdWVMZWZ0Lmxlbmd0aCA+IDIgfHwgdmFsdWVSaWdodC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5Y+q5o6l5Y+X5Lik5L2N55qEXCIgKyB2YWx1ZUxlZnQgKyBcIi9cIiArIHZhbHVlUmlnaHQpO1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlZnROdW0gPSBwYXJzZUludCh2YWx1ZUxlZnQpO1xuICAgICAgICBsZXQgcmlnaHROdW0gPSBwYXJzZUludCh2YWx1ZVJpZ2h0KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFBva2VyVXRpbC5xdWFyeVBva2VyV2VpZ2h0KHJpZ2h0TnVtKSAtIFBva2VyVXRpbC5xdWFyeVBva2VyV2VpZ2h0KGxlZnROdW0pO1xuICAgICAgICBpZiAocmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gUklHSFRfV0lOO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCA8IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IExFRlRfV0lOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliKTmlq3niYznmoTlpKflsI9cbiAgICAgKiBAcGFyYW0geyp9IHBva2VyXG4gICAgICovXG4gICAgc3RhdGljIHF1YXJ5UG9rZXJXZWlnaHQocG9rZXIpIHtcbiAgICAgICAgcmV0dXJuIHBva2VyV2VpZ2h0LmluZGV4T2YocG9rZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIpOaWreeJjOaYr+S4jeaYr+a0u+WKqOS4uyAxNSAzIDXlr7nlupQgMiAzIDVcbiAgICAgKi9cbiAgICBzdGF0aWMgcXVhcnlJc0hvc3QocG9rZXIpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VJbnQocG9rZXIpO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gMTUgfHwgdmFsdWUgPT0gMyB8fCB2YWx1ZSA9PSA1IHx8IHZhbHVlID09IDE2IHx8IHZhbHVlID09IDE3IHx8IHZhbHVlID09IDE4Oy8vMiAzIDUg5bCP546LIOWkp+eOiyDkuLs1XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6L+U5Zue5YiG5pWw5YC8XG4gICAgICogQHBhcmFtIHBva2VyXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgc3RhdGljIHF1YXJ5SXNTb2Nlcihwb2tlcil7XG4gICAgICAgIGlmKHBva2VyPT01fHxwb2tlcj09MTApe1xuICAgICAgICAgICAgcmV0dXJuIHBva2VyO1xuICAgICAgICB9ZWxzZSBpZihwb2tlcj09MTMpe1xuICAgICAgICAgICAgcmV0dXJuIDEwO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIpOaWreWJr+eJjOiwgeWkp1xuICAgICAqIEBwYXJhbSB7Kn0gcm91bmRob3N0XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZUxlZnRcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlUmlnaHRcbiAgICAgKi9cbiAgICBzdGF0aWMgY29tcGFyZVZpY2Uocm91bmRob3N0LCB0eXBlTGVmdCwgdHlwZVJpZ2h0LCBjb250ZW50TGVmdCwgY29udGVudFJpZ2h0KSB7XG4gICAgICAgIGlmICh0eXBlUmlnaHQgPT0gdHlwZUxlZnQgPT0gcm91bmRob3N0KSB7XG4gICAgICAgICAgICByZXR1cm4gUG9rZXJVdGlsLmNvbXBhcmVTaW5nbGVQb2tlckJpZ2dlcihjb250ZW50TGVmdCwgY29udGVudFJpZ2h0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlTGVmdCA9PSByb3VuZGhvc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBMRUZUX1dJTjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlUmlnaHQgPT0gcm91bmRob3N0KSB7XG4gICAgICAgICAgICByZXR1cm4gUklHSFRfV0lOO1xuICAgICAgICB9IGVsc2Ugey8v6YO95piv5Ymv54mMIOS4jeaYr+acrOi9ruS4u++8jOWkmuWNiuaYr+i3n+eJjO+8jOaEj+S5ieS4jeWkp1xuICAgICAgICAgICAgcmV0dXJuIExFRlRfV0lOO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgY29tcGFyZUFycmF5ID0gKGdhbWVob3N0LCByb3VuZGhvc3QsIHZhbHVlTGVmdCwgdmFsdWVSaWdodCkgPT4ge1xuICAgICAgICAvL+WBtuaVsOW8oO+8jOaOkuaVsOS4jeS4gOiHtFxuICAgICAgICBpZiAodmFsdWVMZWZ0Lmxlbmd0aCAhPSB2YWx1ZVJpZ2h0Lmxlbmd0aCB8fCB2YWx1ZUxlZnQubGVuZ3RoICUgMiAhPSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwib25pb25cIiwgXCLmlbDnu4Tplb/luqbkuI3kuIDoh7RcIik7XG4gICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgIH1cbiAgICAgICAgLy8xIOaOkuW6j1xuICAgICAgICBsZXQgYXJyYXlMZWZ0ID0gdmFsdWVMZWZ0LnNvcnQoKTtcbiAgICAgICAgbGV0IGFycmF5UmlnaHQgPSB2YWx1ZVJpZ2h0LnNvcnQoKTtcbiAgICAgICAgLy8yIOWlh+aVsOWSjOWBtuaVsOS4gOagt++8jOWIpOaWreWvueWtkOWQiOazleaAp1xuICAgICAgICBsZXQgcmVzdWx0TGVmdCA9IFBva2VyVXRpbC5jaGVja0FycmF5VmFsdWUoYXJyYXlMZWZ0KTtcbiAgICAgICAgbGV0IHJlc3VsdFJpZ2h0ID0gUG9rZXJVdGlsLmNoZWNrQXJyYXlWYWx1ZShhcnJheVJpZ2h0KTtcbiAgICAgICAgaWYgKHJlc3VsdExlZnRbMF0gPT0gXCItMVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gUklHSFRfV0lOO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRSaWdodFswXSA9PSBcIi0xXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBMRUZUX1dJTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnYW1laG9zdCA9PSByZXN1bHRMZWZ0WzBdID09IHJlc3VsdFJpZ2h0WzBdKSB7XG4gICAgICAgICAgICAvL+mDveaYr+S4u+WvuVxuICAgICAgICAgICAgaWYgKHJlc3VsdExlZnRbMV0gPiByZXN1bHRSaWdodFsxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBMRUZUX1dJTjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJJR0hUX1dJTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChnYW1laG9zdCA9PSByZXN1bHRMZWZ0WzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgIH0gZWxzZSBpZiAoZ2FtZWhvc3QgPT0gcmVzdWx0UmlnaHRbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBSSUdIVF9XSU47XG4gICAgICAgIH0gZWxzZSBpZiAocm91bmRob3N0ID09IHJlc3VsdExlZnRbMF0gPT0gcmVzdWx0UmlnaHRbMF0pIHtcbiAgICAgICAgICAgIC8v6YO95piv5Ymv5a+5XG4gICAgICAgICAgICBpZiAocmVzdWx0TGVmdFsxXSA+IHJlc3VsdFJpZ2h0WzFdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfV0lOO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfV0lOO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJvdW5kaG9zdCA9PSByZXN1bHRMZWZ0WzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgIH0gZWxzZSBpZiAoZ2FtZWhvc3QgPT0gcmVzdWx0UmlnaHRbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBSSUdIVF9XSU47XG4gICAgICAgIH0gZWxzZSB7Ly/pg73kuI3mmK/kuLsg6Lef54mM5aSn5bCP5peg5oSP5LmJXG4gICAgICAgICAgICByZXR1cm4gTEVGVF9XSU47XG4gICAgICAgIH1cblxuICAgICAgICAvL+S4gOWvueebtOaOpeavlFxuICAgICAgICAvL+WkmuWvueWFiOagoemqjOWQiOazleaAp++8jDHmmK/lkKblpJrlr7kgMuaYr+WQpui/nuWvuSAz6Iqx6Imy5LiA6Ie0IDRcblxuICAgIH1cbiAgICAvKipcbiAgICAgKiDliKTmlq3lr7nlrZDlkIjms5XmgKcg6L+U5ZueW+iKseiJsiDmnYPph41dXG4gICAgICogQHBhcmFtIHsqfSBhcnJheSBcbiAgICAgKi9cbiAgICBzdGF0aWMgY2hlY2tBcnJheVZhbHVlID0gKGFycmF5KSA9PiB7XG4gICAgICAgIGxldCBvZGQgPSBcIi0xXCI7XG4gICAgICAgIGxldCBldmVuID0gXCItMVwiXG4gICAgICAgIGxldCBsYXN0VHlwZSA9IFwiLTFcIjtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChpbmRleCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgICAgIGV2ZW4gPSBhcnJheVtpbmRleF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9kZCA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbiAhPSBvZGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcIi0xXCIsIC0xXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNhcmROdW0gPSBvZGQ7XG4gICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBpZiAoY2FyZE51bSA9PSBcIjE3MVwiIHx8IGNhcmROdW0gPT0gXCIxNjFcIikge1xuICAgICAgICAgICAgICAgICAgICAvL+Wkp+Wwj+eOi1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gXCI1XCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0ciA9IGNhcmROdW0uc3Vic3RyaW5nKDIpO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gUG9rZXJVdGlsLnF1YXJ5VHlwZShzdHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGFzdFR5cGUgIT0gdHlwZSAmJiBsYXN0VHlwZSAhPSBcIi0xXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy/kuI3mmK/pppbmrKHkuJTkuI7kuYvliY3oirHoibLkuI3lkIzvvIzkuI3og73nrpflr7nlrZBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcIi0xXCIsIC0xXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdFR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gY2FyZE51bS5zdWJzdHJpbmcoMCwgMik7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgUG9rZXJVdGlsLnF1YXJ5UG9rZXJXZWlnaHQocGFyc2VJbnQoY29tcGFyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbGFzdFR5cGUsIHJlc3VsdF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOavlOacrOi9ruWkp+Wwj++8jOi/lOWbnui1ouWutiAxMjM06aG65L2NXG4gICAgICovXG4gICAgc3RhdGljIGNvbXBhcmVSb3VuZCA9IChwbGF5UG9rZXJzKSA9PiB7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVzdG9yeUFycmF5ID0gKGRlc3RvcnlOb2RlKSA9PiB7XG4gICAgICAgIGlmIChkZXN0b3J5Tm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlc3RvcnlOb2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGVzdG9yeU5vZGVbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzb3J0PShhLGIpPT57XG4gICAgICAgIGE9TWF0aC5mbG9vcihhLzEwKTtcbiAgICAgICAgYj1NYXRoLmZsb29yKGIvMTApO1xuICAgICAgICBsZXQgbGVmdD1Qb2tlclV0aWwucXVhcnlQb2tlcldlaWdodChhKTtcbiAgICAgICAgbGV0IHJpZ2h0PVBva2VyVXRpbC5xdWFyeVBva2VyV2VpZ2h0KGIpO1xuICAgICAgICByZXR1cm4gbGVmdC1yaWdodDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc29ydEluc2VydD0oYXJyYXksaXRlbSk9PntcbiAgICAgICAgaWYoYXJyYXkubGVuZ3RoPT09MCl7XG4gICAgICAgICAgICBhcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0IHZhbHVlPWl0ZW0uc3Vic3RyaW5nKDAsMik7XG4gICAgICAgIGxldCB2YWx1ZT1pdGVtLzEwO1xuICAgICAgICBsZXQgd2VpZ2h0PVBva2VyVXRpbC5xdWFyeVBva2VyV2VpZ2h0KHZhbHVlKTtcbiAgICAgICAgbGV0IGZpcnN0V2VpZ2h0PVBva2VyVXRpbC5xdWFyeVBva2VyV2VpZ2h0KGFycmF5WzBdLzEwKTtcbiAgICAgICAgbGV0IGxhc3RXZWlnaHQ9UG9rZXJVdGlsLnF1YXJ5UG9rZXJXZWlnaHQoYXJyYXlbYXJyYXkubGVuZ3RoLTFdLzEwKTtcbiAgICAgICAgaWYod2VpZ2h0PD1maXJzdFdlaWdodCl7XG4gICAgICAgICAgICBhcnJheT1baXRlbSwuLi5hcnJheV07XG4gICAgICAgICAgICAvLyBhcnJheS51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9ZWxzZSBpZih3ZWlnaHQ+PWxhc3RXZWlnaHQpe1xuICAgICAgICAgICAgYXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgcXVhcnlUeXBlID0gKHR5cGUpID0+IHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIuaWueWdl1wiO1xuICAgICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCLmooXoirFcIjtcbiAgICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwi57qi5qGDXCI7XG4gICAgICAgICAgICBjYXNlIFwiNFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIum7keahg1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBxdWFyeVBva2VyVHlwZVZhbHVlID0gKHBva2VyVmFsdWUpID0+IHtcbiAgICAgICAgcG9rZXJWYWx1ZT1wb2tlclZhbHVlK1wiXCI7XG4gICAgICAgIGlmIChwb2tlclZhbHVlID09IFwiMTcxXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjNcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9rZXJWYWx1ZSA9PSBcIjE2MVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCI0XCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJvbmlvblwiLFwicG9rZXJWYWx1ZVwiK3Bva2VyVmFsdWUpO1xuICAgICAgICByZXR1cm4gcG9rZXJWYWx1ZS5zdWJzdHJpbmcoMik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOmAmui/h+eJjOW6j+afpeiKseiJsuWkp+Wwj1xuICAgICAqIOacgOWQjuS4gOS9jeaYr+iKseiJslxuICAgICAqL1xuICAgIHN0YXRpYyBxdWFyeVBva2VyVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGNhcmROdW0gPSB2YWx1ZSArIFwiXCI7XG4gICAgICAgIGlmIChjYXJkTnVtID09IFwiMTcxXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIuWkp+eOi1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGNhcmROdW0gPT0gXCIxNjFcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwi5bCP546LXCJcbiAgICAgICAgfSBlbHNlIGlmIChjYXJkTnVtID09IFwiMTgxXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIuWNoeiDjFwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY29tcGFyZSA9IGNhcmROdW0uc3Vic3RyaW5nKDAsIDIpO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBjYXJkTnVtLnN1YnN0cmluZygyKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBQb2tlclV0aWwucXVhcnlUeXBlKHR5cGUpO1xuICAgICAgICAgICAgc3dpdGNoIChjb21wYXJlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjAzXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIFwiM1wiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiMDRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgXCI0XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSBcIjA1XCI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIFwiNVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiMDZcIjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgXCI2XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIwN1wiOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBcIjdcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjA4XCI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIFwiOFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiMDlcIjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgXCI5XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIxMFwiOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBcIjEwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIxMVwiOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBcIkpcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjEyXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIFwiUVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiMTNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgXCJLXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCIxNFwiOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBcIkFcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIjE1XCI6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIFwiMlwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmiorniYzmjInoirHoibLmjpLlpb1cbiAgICAgKiBAcGFyYW0gZ2FtZUhvc3RcbiAgICAgKiBAcGFyYW0gY2FyZEFycmF5XG4gICAgICogQHJldHVybnNcbiAgICAgKiAge1xuICAgICAgICAgICAgdHlwZTFBcnJheTp0eXBlMUFycmF5LFxuICAgICAgICAgICAgdHlwZTJBcnJheTp0eXBlMkFycmF5LFxuICAgICAgICAgICAgdHlwZTNBcnJheTp0eXBlM0FycmF5LFxuICAgICAgICAgICAgdHlwZTRBcnJheTp0eXBlNEFycmF5LFxuICAgICAgICAgICAgaG9zdEFycmF5Omhvc3RBcnJheSxcbiAgICAgICAgICAgIHRvdGFsOnRvdGFsXG4gICAgICAgIH1cbiAgICAgKi9cbiAgICBzdGF0aWMgc29ydFBva2Vycz0oZ2FtZUhvc3QsY2FyZEFycmF5KT0+e1xuICAgICAgICBsZXQgdHlwZTFBcnJheT1bXTtcbiAgICAgICAgbGV0IHR5cGUyQXJyYXk9W107XG4gICAgICAgIGxldCB0eXBlM0FycmF5PVtdO1xuICAgICAgICBsZXQgdHlwZTRBcnJheT1bXTtcbiAgICAgICAgbGV0IGhvc3RBcnJheT1bXTsvL+a0u+WKqOS4u1xuICAgICAgICBmb3IobGV0IGk9MDtpPGNhcmRBcnJheS5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGxldCBpdGVtPWNhcmRBcnJheVtpXTtcbiAgICAgICAgICAgIGlmKGl0ZW09PTE3MXx8aXRlbT09MTYxKXtcbiAgICAgICAgICAgICAgICBob3N0QXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gbGV0IHR5cGU9cGFyc2VJbnQoaXRlbS5zdWJzdHJpbmcoMikpO1xuICAgICAgICAgICAgbGV0IHZhbHVlPU1hdGguZmxvb3IoaXRlbS8xMCk7XG4gICAgICAgICAgICBpZihQb2tlclV0aWwucXVhcnlJc0hvc3QodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBob3N0QXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0eXBlPWl0ZW0lMTA7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdHlwZTFBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUyQXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICB0eXBlM0FycmF5LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgdHlwZTRBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBob3N0QXJyYXkuc29ydChQb2tlclV0aWwuc29ydCk7XG4gICAgICAgIHR5cGUxQXJyYXkuc29ydChQb2tlclV0aWwuc29ydCk7XG4gICAgICAgIHR5cGUyQXJyYXkuc29ydChQb2tlclV0aWwuc29ydCk7XG4gICAgICAgIHR5cGUzQXJyYXkuc29ydChQb2tlclV0aWwuc29ydCk7XG4gICAgICAgIHR5cGUzQXJyYXkuc29ydChQb2tlclV0aWwuc29ydCk7XG4gICAgICAgIHN3aXRjaCAocGFyc2VJbnQoZ2FtZUhvc3QpKXtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gUG9rZXJVdGlsLmNyZWF0ZVN0YXRpYyh0eXBlMUFycmF5LHR5cGUyQXJyYXksdHlwZTNBcnJheSx0eXBlNEFycmF5LGhvc3RBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTJBcnJheS5jb25jYXQodHlwZTNBcnJheSkuY29uY2F0KHR5cGU0QXJyYXkpLmNvbmNhdCh0eXBlMUFycmF5KS5jb25jYXQoaG9zdEFycmF5KSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBva2VyVXRpbC5jcmVhdGVTdGF0aWModHlwZTFBcnJheSx0eXBlMkFycmF5LHR5cGUzQXJyYXksdHlwZTRBcnJheSxob3N0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHR5cGUzQXJyYXkuY29uY2F0KHR5cGU0QXJyYXkpLmNvbmNhdCh0eXBlMUFycmF5KS5jb25jYXQodHlwZTJBcnJheSkuY29uY2F0KGhvc3RBcnJheSkpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBQb2tlclV0aWwuY3JlYXRlU3RhdGljKHR5cGUxQXJyYXksdHlwZTJBcnJheSx0eXBlM0FycmF5LHR5cGU0QXJyYXksaG9zdEFycmF5LFxuICAgICAgICAgICAgICAgICAgICB0eXBlNEFycmF5LmNvbmNhdCh0eXBlMUFycmF5KS5jb25jYXQodHlwZTJBcnJheSkuY29uY2F0KHR5cGUzQXJyYXkpLmNvbmNhdChob3N0QXJyYXkpKTtcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gUG9rZXJVdGlsLmNyZWF0ZVN0YXRpYyh0eXBlMUFycmF5LHR5cGUyQXJyYXksdHlwZTNBcnJheSx0eXBlNEFycmF5LGhvc3RBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTFBcnJheS5jb25jYXQodHlwZTJBcnJheSkuY29uY2F0KHR5cGUzQXJyYXkpLmNvbmNhdCh0eXBlNEFycmF5KS5jb25jYXQoaG9zdEFycmF5KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgIFxuICAgc3RhdGljIGNyZWF0ZVN0YXRpYz0odHlwZTFBcnJheSx0eXBlMkFycmF5LHR5cGUzQXJyYXksdHlwZTRBcnJheSxob3N0QXJyYXksdG90YWwpPT57XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlMUFycmF5OnR5cGUxQXJyYXksXG4gICAgICAgICAgICB0eXBlMkFycmF5OnR5cGUyQXJyYXksXG4gICAgICAgICAgICB0eXBlM0FycmF5OnR5cGUzQXJyYXksXG4gICAgICAgICAgICB0eXBlNEFycmF5OnR5cGU0QXJyYXksXG4gICAgICAgICAgICBob3N0QXJyYXk6aG9zdEFycmF5LFxuICAgICAgICAgICAgdG90YWw6dG90YWxcbiAgICAgICAgfVxuXG4gICB9XG5cbiAgIHN0YXRpYyBzYXZlUmVjb2Rlcj0oKT0+e1xuICAgICAgIGxldCB1c2VyRGF0YSA9IHtcbiAgICAgICAgICAgbmFtZTogJ1RyYWNlcicsXG4gICAgICAgICAgIGxldmVsOiAxLFxuICAgICAgICAgICBnb2xkOiAxMDBcbiAgICAgICB9O1xuXG4gICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyRGF0YScsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSk7XG4gICB9XG4gICBzdGF0aWMgcXVhcnlSZW9jZGVyPSgpPT57XG4gICAgICAgbGV0IHVzZXJEYXRhID0gSlNPTi5wYXJzZShjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpO1xuICAgfVxuXG59Il19