{"version":3,"sources":["assets/scripts/RoadCard.js"],"names":["RoadType","ENEMY","RECOVER","cc","Class","Component","properties","type","roadBean","sprite","SpriteFrame","costLabel","Label","titleLabel","selectBtn","Button","descLabel","levelLable","start","bindCardFunction","fun","checkFunction","getCardBean","cardBean","bindRoadBean","bindCardBean","string","title","level","desc","onLoad","node","on","onSelect","y","event","console","log","stopPropagation","isCheck","onCancel","onDestroy","sys","isMobile","off","onMouseDown","Node","EventType","MOUSE_DOWN"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\n * 道路卡片\n */\nexport var RoadType = {\n    ENEMY: 1,//野怪\n    RECOVER: 2,//恢复\n}\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        type: RoadType.ENEMY,\n        roadBean:null,\n        //图标\n        sprite: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n        costLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        titleLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        selectBtn: {\n            default: null,\n            type: cc.Button,\n        },\n        descLabel: {\n            default: null,\n            type: cc.Label,\n        },\n        levelLable: {\n            default: null,\n            type: cc.Label,\n        },\n\n\n    },\n    start: function () {\n\n        // var node = new cc.Node('Sprite');\n        // var sp = node.addComponent(cc.Sprite);\n\n        // sp.spriteFrame = cardPic;\n        // node.parent = this.node;\n\n\n    },\n\n    bindCardFunction(fun) {\n        this.checkFunction = fun;\n    },\n\n    getCardBean(){\n      return this.cardBean;\n    },\n\n    bindRoadBean(type,roadBean){\n        this.roadBean=roadBean;\n        this.type=type;\n    },\n    bindCardBean(cardBean) {\n        this.cardBean = cardBean;\n        this.titleLabel.string = this.cardBean.title;\n\n        this.levelLable.string = this.cardBean.level;\n        this.descLabel.string = this.cardBean.desc;\n        this.titleLabel.string = this.cardBean.title;\n    },\n\n    // update: function (dt) {\n    // },\n\n    onLoad: function () {\n        // this.node.on(cc.Node.EventType.TOUCH_START, this.onMouseDown, this);\n        this.selectBtn.node.on(\"click\", this.onSelect, this);\n\n        // this.node.on(\"click\", this.onMouseDown, this);\n        //\n        // this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this);\n        // this.node.on(cc.Node.EventType.MOUSE_MOVE,this.onTouchMove,this);\n        //\n        // this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this);\n        // this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchCancel,this);\n        // let self = this;\n        this.node.y = 0;\n        // this.location=[this.node.x,this.node.y];\n        // this.normalHeight=this.node.height;\n\n\n        // cc.resources.load(\"pokers\", cc.SpriteAtlas, function (err, atlas) {\n        //\n        //     let frame = atlas.getSpriteFrame(\"181\");\n        //     console.log('onion==='+self.getComponent(cc.Sprite));\n        //     self.getComponent(cc.Sprite).spriteFrame =frame\n        //     this.spriteFrame= frame;\n        // });\n    },\n    onSelect: function (event) {\n        console.log(\"onion\" + 'Press a key');\n        event.stopPropagation();\n        if (this.isCheck) {\n            this.isCheck = false;\n            this.node.y = this.node.y - 50;\n            this.checkFunction && this.checkFunction(this, false);\n        } else {\n            this.isCheck = true;\n            this.node.y = this.node.y + 50;\n            this.checkFunction && this.checkFunction(this, true);\n        }\n    },\n\n    onCancel: function () {\n        if (this.isCheck) {\n            this.isCheck = false;\n            this.node.y = this.node.y - 50;\n        }\n\n    },\n    onDestroy() {\n        // cc.systemEvent.off(\"mousedown\", this.onMouseDown);\n        // this.node.off(\"click\", this.onMouseDown, this);\n        // this.node.off(cc.Node.EventType.TOUCH_START, this.onMouseDown, this);\n        if (cc.sys.isMobile) {\n            this.node.off(\"click\", this.onMouseDown, this);\n        } else {\n            this.node.off(cc.Node.EventType.MOUSE_DOWN, this.onMouseDown, this);\n        }\n\n    },\n\n\n});\n"]}